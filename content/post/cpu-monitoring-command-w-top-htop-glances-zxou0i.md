---
title: CPU 监控命令w、 top、 htop、 glances
slug: cpu-monitoring-command-w-top-htop-glances-zxou0i
url: /post/cpu-monitoring-command-w-top-htop-glances-zxou0i.html
date: '2024-03-25 13:28:45'
lastmod: '2024-03-25 13:49:32'
toc: true
tags:
  - Linux
categories:
  - 技术
keywords: Linux
isCJKLanguage: true
---

# CPU 监控命令w、 top、 htop、 glances

# w命令

　　​`w [options] [username]`​

```text
$ w
 21:45:07 up 1 day, 12:48,  1 user,  load average: 1.05, 0.85, 0.56
USER     TTY        LOGIN@   IDLE   JCPU   PCPU WHAT
debugpoi tty2       Thu08   36:48m  0.03s  0.03s /usr/libexec/gnome-session-binary
```

　　解释：`USER`​ 列给出了用户名，然后是终端号、登录日期时间、空闲时间、CPU 使用率，以及用户正在执行的进程。

* ​`USER`​ - 在你的 Linux 或 BSD 系统中登录的用户名称。
* ​`TTY`​ - 当前会话的终端标识符号。
* ​`FROM`​ - 用户的主机名或 IP 地址。
* ​`LOGIN@`​ - 用户登录的时间。它有时会根据你的系统设置显示日期。
* ​`IDLE`​ - 用户与终端交互后的空闲时间。
* ​`JCPU`​ - 该会话的所有用户进程使用的 CPU 时间。
* ​`PCPU`​ - 该用户的进程（在 `WHAT`​ 字段中提到）使用的时间。
* ​`WHAT`​ - 当前带参数的进程。

　　要停止显示标题，使用 `-h`​ 选项。它与 `--no-header`​ 开关相同。

```text
$ w -h
```

　　​`-f`​ 选项可以在输出中切换 `FROM`​ 字段的可见性。

```text
$ w -f
```

　　使用 `-s`​ 选项打印一个简短的输出，不包括 `JCPU`​、`PCPU`​ 和 `LOGIN@`​ 信息。

```text
$ w -s
```

　　要显示一个特定用户（例如，`debugpoint`​）拥有的所有进程的列表：

```text
$ w debugpoint
```

# top命令

　　一、简介  
top命令，它提供了一个动态的、交互式的实时视图，显示系统的整体性能信息以及正在运行的进程的相关信息。

　　语法：

　　​`top [-] [d delay] [q] [c] [S] [s] [i] [n] [b]`​  
参数说明：

　　-d <秒数>：指定 top 命令的刷新时间间隔，单位为秒。

　　-n <次数>：指定 top 命令运行的次数后自动退出。

　　-p <进程ID>：仅显示指定进程ID的信息。

　　-u <用户名>：仅显示指定用户名的进程信息。

　　-H：在进程信息中显示线程详细信息。

　　-i：不显示闲置（idle）或无用的进程。

　　-b：以批处理（batch）模式运行，直接将结果输出到文件。

　　-c：显示完整的命令行而不截断。

　　-S：累计显示进程的 CPU 使用时间。

　　输出结果：

```bash
top - 22:00:55 up 24 days,  2:53,  9 users,  load average: 0.98, 1.00, 1.18
Tasks: 352 total,   3 running, 349 sleeping,   0 stopped,   0 zombie
%Cpu(s): 15.5 us,  2.3 sy,  0.0 ni, 80.9 id,  0.0 wa,  0.0 hi,  1.2 si,  0.0 st
KiB Mem:  65718652 total, 62077516 used,  3641136 free,    34128 buffers
KiB Swap:  2103292 total,        0 used,  2103292 free. 25792972 cached Mem

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                                                                                                                            
22115 commonu+  20   0 6762128 1.327g  17408 S 43.85 2.117 345:07.82 java                                                                                                                               
28567 commonu+  20   0 8708724 2.805g  24924 S 29.90 4.475   2466:34 java                                                                                                                               
10837 commonu+  20   0 5458872 2.462g  20824 S 20.27 3.929   1198:57 mysqld                                                                                                                             
 6184 commonu+  20   0 21.236g 2.448g  24532 S 12.29 3.905 932:32.68 java                                                                                                                               
28414 commonu+  20   0 7392732 1.647g  31036 S 10.96 2.629   8:11.33 java                                                                                                                               
26489 commonu+  20   0 7123736 1.124g  24184 S 3.654 1.793 628:03.13 java                                                                                                                               
 6057 commonu+  20   0 8329684 2.464g  29904 S 2.658 3.931   2:20.24 java                                                                                                                               
 9765 commonu+  20   0 8874696 3.010g  21700 S 1.661 4.803 555:24.83 java                                                                                                                               
31379 root      20   0 21.728g 2.101g  21124 S 1.661 3.352 190:04.57 java                                                                                                                               
 8430 commonu+  20   0 7162864 995.7m  24928 S 1.329 1.551 183:10.03 java                                                                                                                               
 1127 root      20   0  333224  47260  11164 S 0.997 0.072 710:18.66 monitor_agent_e                                                                                                                    
31960 commonu+  20   0 8230332 2.397g  27376 S 0.997 3.825   1:05.29 java                                                                                                                               
10124 root      20   0  107656   8572   7096 S 0.664 0.013   1:12.09 sshd                                                                                                                               
 1586 commonu+  20   0 7281036 1.205g  19012 S 0.332 1.923  80:04.54 java

```

　　top：系统运行时间和平均负载；  

|字段|说明|
| :----------------------: | :---------------------------------------------------------------------------------------|
|22:00:55 up 24 days|当前时间|
|9 `users`​|当前登录用户数|
|​`load average`​: 0.98, 1.00, 1.18|系统负载，即任务队列的平均长度。 三个数值分别为 1分钟、5分钟、15分钟前到现在的平均值。|

　　注：`load average 如果这个数除以逻辑CPU的数量，结果高于5的时候就表明系统在超负荷运转了`​。

* Tasks：当前运行的进程和线程数目；

|字段|说明|
| :------: | :-----------------|
|352 `total`​|进程总数|
|3 `running`​|正在运行的进程数|
|349 `sleeping`​|睡眠的进程数|
|0 `stopped`​|停止的进程数|
|0 `zombie`​|僵尸进程数|

* %Cpu(s)：总体CPU使用率和各个核心的使用情况；

　　字段	说明  
15.5 us	用户空间占用CPU百分比  
2.3 sy	内核空间占用CPU百分比  
0.0 ni	用户进程空间内改变过优先级的进程占用CPU百分比  
80.9 id	空闲CPU百分比  
0.0 wa	等待输入输出的CPU时间百分比  
0.0 hi	硬中断（Hardware IRQ）占用CPU的百分比,CPU服务于硬中断所耗费的时间总额  
1.2 si、0.0 st	CPU服务于软中断所耗费的时间总额、Steal Time

　　KiB Mem：物理总体内存使用情况、可用内存和缓存；  
字段	说明  
65718652 total	物理总内存  
62077516 used	已使用的物理内存  
3641136 free	空闲的物理内存  
34128 buffers	用作内核缓存的内存  
KiB Swap：交换区总体内存使用情况、可用内存和缓存；  
字段	说明  
2103292 total	交换区总量  
0 used	已使用的交换区总量  
2103292 free	空闲的交换区总量  
25792972 cached Mem	缓冲的交换区总量  
最后提到的缓冲的交换区总量，这里解释一下，所谓缓冲的交换区总量，即内存中的内容被换出到交换区，而后又被换入到内存，但使用过的交换区尚未被覆盖，该数值即为这些内容已存在于内存中的交换区的大小。相应的内存再次被换出时可不必再对交换区写入。

　　计算可用内存数有一个近似的公式：

　　可用内存 = Mem.free + Mem.buffers + Swap.cached

　　进程信息：

　　字段	说明  
PID	进程ID  
USER	进程所有者用户名称  
PR	优先级  
NI	nice值。负值表示高优先级，正值表示低优先级  
VIRT	进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES  
RES	进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA  
SHR	共享内存大小，单位kb  
S	进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程  
%CPU	上次更新到现在的CPU时间占用百分比  
%MEM	进程使用的物理内存百分比  
TIME+	进程使用的CPU时间总计，单位1/100秒  
COMMAND	命令名/命令行  
进程信息不单单上面这几列，默认情况下仅显示上面比较重要的几列。

　　要更改显示内容可以通过 f 键选择显示的内容，按上下键 + b - z，可以 显示或隐藏 对应的列，然后按 q 键即可。

　　隐藏字段说明：

　　字段	说明  
PPID	父进程ID  
RUSER	Real user name  
UID	进程所有者的用户id  
GROUP	进程所有者的组名  
TTY	启动进程的终端名。不是从终端启动的进程则显示为 ?  
P	最后使用的CPU，仅在多CPU环境下有意义  
TIME	进程使用的CPU时间总计，单位秒  
SWAP	进程使用的虚拟内存中，被换出的大小，单位kb  
CODE	可执行代码占用的物理内存大小，单位kb  
DATA	可执行代码以外的部分(数据段+栈)占用的物理内存大小，单位kb  
nFLT	页面错误次数  
nDRT	最后一次写入到现在，被修改过的页面数。  
WCHAN	若该进程在睡眠，则显示睡眠中的系统函数名  
Flags	任务标志

　　2、top -d 2每隔2秒显示所有进程的资源占用情况。

　　3、top -c每隔5秒显示所有进程的资源占用情况，并显示进程的[命令行参数](https://so.csdn.net/so/search?q=%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0&spm=1001.2101.3001.7020)(默认只有进程名)

　　4、top -p 1234 -p 6789每隔5秒显示pid为1234、6789两个进程的资源占用情况。  
————————————————

　　                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。

　　原文链接：https://blog.csdn.net/wangzhongshun/article/details/131818875

# htop命令

## 与top命令比较

　　与Linux传统的top相比，htop更加人性化。它可让用户交互式操作，支持颜色主题，可横向或纵向滚动浏览进程列表，并支持鼠标操作。

> htop优点：

* 可以横向或纵向滚动浏览进程列表，以便看到所有的进程和完整的命令行。
* 在启动上，比top 更快。
* 杀进程时不需要输入进程号。
* htop 支持鼠标操作。
* top比较繁琐。

> top缺点：

* 只支持键盘操作。
* 显示也单调。

## 常用选项

> 命令行选项

* ​`-d, --delay=DELAY`​：更新之间的延迟，即进程每次刷新的间隔时间，单位：十分之几秒，例如10/10，则为1秒，100/10则为10秒，`DELAY`​最小值为1，最大值为100，如果`DELAY`​的值小于1，则自动变更为1，如果大于100，自动变更为100。
* ​`-C, --no-color --no-colour`​：黑白模式，无颜色显示。
* ​`-F, --filter=FILTER`​：通过固定字符串过滤进程，字符串不会视作正则表达式，且不区分大小写，多个字符串用`|`​隔开。
* ​`-h, --help`​：打印帮助信息。
* ​`-p, --pid=PID,PID...`​：仅显示指定的`PID`​进程信息，可指定多个，使用逗号`,`​隔开。
* ​`-s --sort-key COLUMN`​：通过字段排序。
* ​`-u, --user=USERNAME|UID`​：仅显示指定的用户所属进程，可传用户名或用户id。
* ​`-U, --no-unicode`​：图形仪表不使用unicode，而是使用ASCII字符。
* ​`-M, --no-mouse`​：禁用鼠标控制。
* ​`--readonly`​：只读模式，禁用所有系统和进程变更特性。
* ​`-V, --version`​：打印版本信息。
* ​`-t, --tree`​：以树形结构展示进程列表。
* ​`-H --highlight-changes=DELAY`​：高亮新的和旧的进程。

> 交互式命令

* ​`Tab, Shift-Tab`​：选择要显示的下一个/上一个屏幕选项卡。
* ​`Up, Alt-k`​：在进程列表中选择（高亮）上一个进程。
* ​`Down, Alt-j`​：在进程列表中选择（高亮）下一个进程。
* ​`Left, Alt-h`​：向左滚动进程列表。
* ​`Right, Alt-l`​：向右滚动进程列表。
* ​`PgUp, PgDn`​：在一个窗口向上或向下滚动进程列表，即翻页。
* ​`Home`​：滚动到进程列表顶部，并选中第一个进程。
* ​`End`​：滚动到进程列表底部，并选中最后一个进程。
* ​`Ctrl-A, ^`​：向左滚动到进程字段项的开头。
* ​`Ctrl-E, # CPU 监控命令w、 top、 htop、 glances

# w命令

　　​`w [options] [username]`​

CODE_BLOCK_6

　　解释：`USER`​ 列给出了用户名，然后是终端号、登录日期时间、空闲时间、CPU 使用率，以及用户正在执行的进程。

* ​`USER`​ - 在你的 Linux 或 BSD 系统中登录的用户名称。
* ​`TTY`​ - 当前会话的终端标识符号。
* ​`FROM`​ - 用户的主机名或 IP 地址。
* ​`LOGIN@`​ - 用户登录的时间。它有时会根据你的系统设置显示日期。
* ​`IDLE`​ - 用户与终端交互后的空闲时间。
* ​`JCPU`​ - 该会话的所有用户进程使用的 CPU 时间。
* ​`PCPU`​ - 该用户的进程（在 `WHAT`​ 字段中提到）使用的时间。
* ​`WHAT`​ - 当前带参数的进程。

　　要停止显示标题，使用 `-h`​ 选项。它与 `--no-header`​ 开关相同。

CODE_BLOCK_7

　　​`-f`​ 选项可以在输出中切换 `FROM`​ 字段的可见性。

CODE_BLOCK_8

　　使用 `-s`​ 选项打印一个简短的输出，不包括 `JCPU`​、`PCPU`​ 和 `LOGIN@`​ 信息。

CODE_BLOCK_9

　　要显示一个特定用户（例如，`debugpoint`​）拥有的所有进程的列表：

CODE_BLOCK_10

# top命令

　　一、简介  
top命令，它提供了一个动态的、交互式的实时视图，显示系统的整体性能信息以及正在运行的进程的相关信息。

　　语法：

　　​`top [-] [d delay] [q] [c] [S] [s] [i] [n] [b]`​  
参数说明：

　　-d <秒数>：指定 top 命令的刷新时间间隔，单位为秒。

　　-n <次数>：指定 top 命令运行的次数后自动退出。

　　-p <进程ID>：仅显示指定进程ID的信息。

　　-u <用户名>：仅显示指定用户名的进程信息。

　　-H：在进程信息中显示线程详细信息。

　　-i：不显示闲置（idle）或无用的进程。

　　-b：以批处理（batch）模式运行，直接将结果输出到文件。

　　-c：显示完整的命令行而不截断。

　　-S：累计显示进程的 CPU 使用时间。

　　输出结果：

CODE_BLOCK_11

　　top：系统运行时间和平均负载；  

|字段|说明|
| :----------------------: | :---------------------------------------------------------------------------------------|
|22:00:55 up 24 days|当前时间|
|9 `users`​|当前登录用户数|
|​`load average`​: 0.98, 1.00, 1.18|系统负载，即任务队列的平均长度。 三个数值分别为 1分钟、5分钟、15分钟前到现在的平均值。|

　　注：`load average 如果这个数除以逻辑CPU的数量，结果高于5的时候就表明系统在超负荷运转了`​。

* Tasks：当前运行的进程和线程数目；

|字段|说明|
| :------: | :-----------------|
|352 `total`​|进程总数|
|3 `running`​|正在运行的进程数|
|349 `sleeping`​|睡眠的进程数|
|0 `stopped`​|停止的进程数|
|0 `zombie`​|僵尸进程数|

* %Cpu(s)：总体CPU使用率和各个核心的使用情况；

　　字段	说明  
15.5 us	用户空间占用CPU百分比  
2.3 sy	内核空间占用CPU百分比  
0.0 ni	用户进程空间内改变过优先级的进程占用CPU百分比  
80.9 id	空闲CPU百分比  
0.0 wa	等待输入输出的CPU时间百分比  
0.0 hi	硬中断（Hardware IRQ）占用CPU的百分比,CPU服务于硬中断所耗费的时间总额  
1.2 si、0.0 st	CPU服务于软中断所耗费的时间总额、Steal Time

　　KiB Mem：物理总体内存使用情况、可用内存和缓存；  
字段	说明  
65718652 total	物理总内存  
62077516 used	已使用的物理内存  
3641136 free	空闲的物理内存  
34128 buffers	用作内核缓存的内存  
KiB Swap：交换区总体内存使用情况、可用内存和缓存；  
字段	说明  
2103292 total	交换区总量  
0 used	已使用的交换区总量  
2103292 free	空闲的交换区总量  
25792972 cached Mem	缓冲的交换区总量  
最后提到的缓冲的交换区总量，这里解释一下，所谓缓冲的交换区总量，即内存中的内容被换出到交换区，而后又被换入到内存，但使用过的交换区尚未被覆盖，该数值即为这些内容已存在于内存中的交换区的大小。相应的内存再次被换出时可不必再对交换区写入。

　　计算可用内存数有一个近似的公式：

　　可用内存 = Mem.free + Mem.buffers + Swap.cached

　　进程信息：

　　字段	说明  
PID	进程ID  
USER	进程所有者用户名称  
PR	优先级  
NI	nice值。负值表示高优先级，正值表示低优先级  
VIRT	进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES  
RES	进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA  
SHR	共享内存大小，单位kb  
S	进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程  
%CPU	上次更新到现在的CPU时间占用百分比  
%MEM	进程使用的物理内存百分比  
TIME+	进程使用的CPU时间总计，单位1/100秒  
COMMAND	命令名/命令行  
进程信息不单单上面这几列，默认情况下仅显示上面比较重要的几列。

　　要更改显示内容可以通过 f 键选择显示的内容，按上下键 + b - z，可以 显示或隐藏 对应的列，然后按 q 键即可。

　　隐藏字段说明：

　　字段	说明  
PPID	父进程ID  
RUSER	Real user name  
UID	进程所有者的用户id  
GROUP	进程所有者的组名  
TTY	启动进程的终端名。不是从终端启动的进程则显示为 ?  
P	最后使用的CPU，仅在多CPU环境下有意义  
TIME	进程使用的CPU时间总计，单位秒  
SWAP	进程使用的虚拟内存中，被换出的大小，单位kb  
CODE	可执行代码占用的物理内存大小，单位kb  
DATA	可执行代码以外的部分(数据段+栈)占用的物理内存大小，单位kb  
nFLT	页面错误次数  
nDRT	最后一次写入到现在，被修改过的页面数。  
WCHAN	若该进程在睡眠，则显示睡眠中的系统函数名  
Flags	任务标志

　　2、top -d 2每隔2秒显示所有进程的资源占用情况。

　　3、top -c每隔5秒显示所有进程的资源占用情况，并显示进程的[命令行参数](https://so.csdn.net/so/search?q=%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0&spm=1001.2101.3001.7020)(默认只有进程名)

　　4、top -p 1234 -p 6789每隔5秒显示pid为1234、6789两个进程的资源占用情况。  
————————————————

　　                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。

　　原文链接：https://blog.csdn.net/wangzhongshun/article/details/131818875

# htop命令

## 与top命令比较

　　与Linux传统的top相比，htop更加人性化。它可让用户交互式操作，支持颜色主题，可横向或纵向滚动浏览进程列表，并支持鼠标操作。

> htop优点：

* 可以横向或纵向滚动浏览进程列表，以便看到所有的进程和完整的命令行。
* 在启动上，比top 更快。
* 杀进程时不需要输入进程号。
* htop 支持鼠标操作。
* top比较繁琐。

> top缺点：

* 只支持键盘操作。
* 显示也单调。

## 常用选项

> 命令行选项

* ​`-d, --delay=DELAY`​：更新之间的延迟，即进程每次刷新的间隔时间，单位：十分之几秒，例如10/10，则为1秒，100/10则为10秒，`DELAY`​最小值为1，最大值为100，如果`DELAY`​的值小于1，则自动变更为1，如果大于100，自动变更为100。
* ​`-C, --no-color --no-colour`​：黑白模式，无颜色显示。
* ​`-F, --filter=FILTER`​：通过固定字符串过滤进程，字符串不会视作正则表达式，且不区分大小写，多个字符串用`|`​隔开。
* ​`-h, --help`​：打印帮助信息。
* ​`-p, --pid=PID,PID...`​：仅显示指定的`PID`​进程信息，可指定多个，使用逗号`,`​隔开。
* ​`-s --sort-key COLUMN`​：通过字段排序。
* ​`-u, --user=USERNAME|UID`​：仅显示指定的用户所属进程，可传用户名或用户id。
* ​`-U, --no-unicode`​：图形仪表不使用unicode，而是使用ASCII字符。
* ​`-M, --no-mouse`​：禁用鼠标控制。
* ​`--readonly`​：只读模式，禁用所有系统和进程变更特性。
* ​`-V, --version`​：打印版本信息。
* ​`-t, --tree`​：以树形结构展示进程列表。
* ​`-H --highlight-changes=DELAY`​：高亮新的和旧的进程。

> 交互式命令

* ​`Tab, Shift-Tab`​：选择要显示的下一个/上一个屏幕选项卡。
* ​`Up, Alt-k`​：在进程列表中选择（高亮）上一个进程。
* ​`Down, Alt-j`​：在进程列表中选择（高亮）下一个进程。
* ​`Left, Alt-h`​：向左滚动进程列表。
* ​`Right, Alt-l`​：向右滚动进程列表。
* ​`PgUp, PgDn`​：在一个窗口向上或向下滚动进程列表，即翻页。
* ​`Home`​：滚动到进程列表顶部，并选中第一个进程。
* ​`End`​：滚动到进程列表底部，并选中最后一个进程。
* ​`Ctrl-A, ^`​：向左滚动到进程字段项的开头。
* ​​：向右滚动到进程字段项的结尾。
* ​`Space(空格)`​：标记或取消标记进程。可以操作的命令多个进程，如“kill”，将应用于标记的进程列表，而不是当前高亮的进程。
* ​`c`​：标记当前进程及其子进程。可以执行的命令在多个进程上操作，如“kill”，然后将应用标记的进程列表，而不是当前的高亮进程。
* ​`U`​：取消标记所有进程，包括使用`Space`​和`c`​标记的。
* ​`s`​：跟踪进程系统调用:如果已经安装`strace`​，按此键将把它附加到当前选定的进程发出的系统调用的实时更新这个过程。
* ​`l`​：显示进程打开的文件，如果已经安装`lsof`​，按此键将会调用`lsof`​。
* ​`w`​：显示所选进程的命令行在单独的一屏，根据需要包装成多行。
* ​`x`​：在单独的一屏显示所选进程的活动文件锁。
* ​`F1, h, ?`​：跳到帮助信息页面。
* ​`F2, S`​：跳到安装页面，可以定制标尺显示、设置显示指定的选项、选择配色方案、设置显示指定的字段、字段的顺序。
* ​`F3, /`​：在搜索模式下，循环匹配，`F3`​查找下一个匹配的，`Shift + F3`​查找上一个匹配的。
* ​`F4, \`​：通过固定字符串（非正则表达式）过滤匹配到的进程；取消过滤时，再次输入过滤选项，并按`ESC`​；此过滤不区分大小写，多个过滤条件，使用`|`​隔开。
* ​`F5, t`​：树形视图，按父级组织进程，并布局它们之间的关系就像一棵树。切换使用此选项会在树视图和之前选择的排序视图之间切换，注意：选择排序视图将退出树视图。
* ​`F6, <, >`​：选择要排序的字段。
* ​`F7, ]`​：增加所选进程的优先级值。
* ​`F8, [`​：减少所选进程的优先级值。
* ​`Shift-F7, }`​：增加所选进程的自动分组优先级值。
* ​`Shift-F8, {`​：减少所选进程的自动分组优先级值。
* ​`F9, k`​：杀死进程，发送一个在菜单中被选中的信号：一个或一组进程。如果进程被标记，向所有标记的进程发送信号。如果没有标记，发送到当前选定的进程。
* ​`F10, q`​：退出
* ​`I`​：反转排序，如果排序顺序增加，则切换到递减，反之亦然。
* ​`+, -, *`​：在树视图模式下，展开或折叠子树。当一个子树被折叠，“+”号显示在左侧进程名称。按“*”将展开或折叠所有  
  没有父节点的PID的子节点。
* ​`u`​：仅显示指定用户拥有的进程。
* ​`N`​：通过`PID`​排序。
* ​`M`​：通过内存使用率排序。
* ​`P`​：通过CPU使用率排序。
* ​`T`​：通过时间排序。
* ​`F`​：如果排序顺序导致当前选定进程在列表中移动，使选择栏跟随它。这对于监控进程很有用这样，你就可以让进程始终在屏幕上显示。
* ​`K`​：隐藏内核进程，可切换隐藏和显示。
* ​`H`​：隐藏用户级进程，可切换隐藏和显示。
* ​`O`​：隐藏容器化进程，可切换隐藏和显示。
* ​`p`​：显示运行程序的全路径，可切换隐藏和显示。
* ​`Z`​：暂停/恢复进程更新，可切换。
* ​`m`​：合并`exe`​，`comm`​，`cmdline`​，可切换。
* ​`Ctrl-L`​：刷新进程列表。
* ​`[Numbers]`​：通过`PID`​搜索指定进程，然后高亮显示。

## 显示的字段说明

　　​![image](https://raw.githubusercontent.com/szhiku/hugoNext/main/content/pic/202403251349372.png)​

> CPU和内存使用

　　左上面板对应CPU和内存的使用，1-4，代表CPU的核心数，柱状图描述了使用每个核心的进程数量和类型，柱状图上的值表示每个核心被消耗的百分比。

> CPU的色彩编码

* Green：用户进程所消耗的CPU量。
* Red：系统进程所消耗的CPU量。
* Grey：用于基于输入/输出的进程的CPU数量。
* Blue：低优先级进程消耗的CPU数量。

> 内存的色彩编码

* Green：用于运行系统中进程的RAM百分比。
* Blue：缓冲区页面消耗的RAM百分比。
* Orange/Yellow：用于缓存内存的RAM百分比。

> 任务统计

　　​![image](https://raw.githubusercontent.com/szhiku/hugoNext/main/content/pic/202403251349552.png)​

　　右上面板显示的是任务统计部分。

* ​`172`​代表系统当前任务/进程数。
* 这`172`​个进程由`551`​个线程(thr)处理。
* 在`551`​个线程中，有`108`​个内核线程(kthr)。
* 在`172`​个进程中，只有一个进程在运行。
* 由于这是一个四核系统，所以最大负载量为`4.0`​，`1.16`​表示最近一分钟的平均负载；`1.04`​代表最近5分钟的平均负载；`0.93`​代表最近15分钟的平均负载。
* Uptime表示自上次系统重启以来的时间长度。

> 进程信息说明

　　​![image](https://raw.githubusercontent.com/szhiku/hugoNext/main/content/pic/202403251349311.png)​

* PID (Process ID) ：进程id。
* USER：进程所有者。
* PRI (Priority)：内核对进程的优先级。
* NI (Nice Value)：用户查看的进程优先级，`nice`​值越高，优先级越低。
* VIRT (Virtual Memory)：进程消耗的虚拟内存量。
* RES (Resident Memory)：进程正在使用的RAM的比例。
* SHR (Shared Memory)：任务占用的共享内存量。
* S (Status)：进程状态，S(休眠), R(运行中)。
* CPU%：进程消耗的CPU百分比。
* MEM%：进程消耗的内存百分比。
* TIME+：进程持续的时间。
* Command：包含程序名称和参数的进程的完整命令。

## 应用实例

* 一般用法

CODE_BLOCK_12

* 显示指定用户的进程

CODE_BLOCK_13

* 显示指定`PID`​的进程

```shell
htop -p 123,456,789
```

* 指定字段排序

```shell
htop -s PERCENT_MEM

说明：通过内存使用百分比排序
```

* 设置进程刷新的时间间隔

```shell
htop -d 10

说明：设置间隔为1秒，即10/10
```

* 黑白模式

```shell
htop -C
```

* 显示成树形结构

```shell
htop -t
```

# glances命令

　　标记箭头内容可以很清楚的看到CPU使用率、内存使用率、内存信息、CPU核数、网络信息、每个程序CPU和内存占有率、每个程序占用内存大小、进程命令等等

　　​![image](https://raw.githubusercontent.com/szhiku/hugoNext/main/content/pic/202403251349642.png)​

　　2、界面筛选  
在运行Glances的时候，我们按 Enter 回车键，会跳出一个搜索框，我们可以根据示例输入关键字查找进程，也可以使用正则表达式、用户名等进行搜索。例如输入java会只显示java 的进程信息

　　​![image](https://raw.githubusercontent.com/szhiku/hugoNext/main/content/pic/202403251349747.png)​

　　​![image](https://raw.githubusercontent.com/szhiku/hugoNext/main/content/pic/202403251349591.png)​

　　3、交互使用快捷键

　　在上图的左侧是网络、磁盘IO、磁盘分区使用情况。 另外 glances 可以使用交互式的方式运行该工具，用户可以使用如下快捷键：

　　h ： 显示帮助信息  
q ： 离开程序退出  
c ：按照 CPU 实时负载对系统进程进行排序  
m ：按照内存使用状况对系统进程排序  
i：按照 I/O 使用状况对系统进程排序  
p： 按照进程名称排序  
d ： 显示磁盘读写状况  
w ： 删除日志文件  
l ：显示日志  
s： 显示传感器信息  
f ： 显示系统信息  
1 ：轮流显示每个 CPU 内核的使用情况（次选项仅仅使用在多核 CPU 系统）  
2，3，4，5：可以选择不同界面风格  
4、参数说明  
列举常用的参数

　　-t ：设置屏幕刷新的时间间隔，单位为秒，默认值为 2 秒，数值许可范围：1~32767  
--export-csv：导出监控数据，  
————————————————

　　                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。

　　原文链接：https://blog.csdn.net/icanflyingg/article/details/122877348
